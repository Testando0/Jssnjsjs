<!DOCTYPE html><html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>KuromiFlix | Premium</title>  <script src="https://cdn.tailwindcss.com"></script>  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />  <style>
    @import url('https://fonts.googleapis.com/css2?family=Martel+Sans:wght@400;900&display=swap');
    body { background:#050505; color:#fff; font-family:'Martel Sans',sans-serif }
    .hero-vignette { background:linear-gradient(to top,#050505 5%,transparent 90%) }
    .nav-blur { background:rgba(0,0,0,.9); backdrop-filter:blur(8px) }
    .content-grid { display:grid; grid-template-columns:repeat(2,1fr); gap:12px; padding:16px }
    @media(min-width:768px){ .content-grid{grid-template-columns:repeat(4,1fr);gap:20px;padding:40px} }
    @media(min-width:1024px){ .content-grid{grid-template-columns:repeat(6,1fr)} }
  </style></head>
<body><nav class="fixed top-0 w-full z-50 nav-blur px-4 md:px-12 py-3 flex items-center justify-between border-b border-white/5">
  <h1 class="text-red-600 text-xl md:text-3xl font-black cursor-pointer" onclick="location.reload()">KUROMIFLIX</h1>
  <input id="search" placeholder="Pesquisar..." class="bg-zinc-900 border border-white/10 rounded-md py-2 px-4 text-xs md:text-sm outline-none" />
</nav><main id="home" class="pt-16"></main><!-- PLAYER --><div id="player" class="fixed inset-0 bg-black z-[999] hidden flex-col">
  <div class="p-3 bg-zinc-900 flex justify-between items-center">
    <button onclick="closePlayer()" class="bg-red-600 px-4 py-1.5 rounded font-bold text-xs">
      <i class="fas fa-times"></i> FECHAR
    </button>
    <span class="text-[10px] uppercase opacity-60">Proxy Seguro Ativo</span>
  </div>
  <iframe id="player-frame" class="flex-grow w-full" allow="autoplay;fullscreen" allowfullscreen></iframe>
</div><script>
const API_KEY = '8265bd1679663a7ea12ac168da84d2e8'
const TMDB = 'https://api.themoviedb.org/3'
const PROXY = 'https://proxy-aqfi.onrender.com/player'

let watching = false

function openPlayer(type,id){
  watching = true
  document.body.style.overflow='hidden'
  const frame=document.getElementById('player-frame')
  frame.src=`${PROXY}/${type}/${id}`
  document.getElementById('player').classList.remove('hidden')
}

function closePlayer(){
  watching=false
  document.body.style.overflow='auto'
  const frame=document.getElementById('player-frame')
  frame.src=''
  document.getElementById('player').classList.add('hidden')
}

window.addEventListener('blur',()=>{
  if(watching) setTimeout(()=>window.focus(),50)
})

async function loadHome(){
  const res=await fetch(`${TMDB}/trending/all/week?api_key=${API_KEY}&language=pt-BR`)
  const data=await res.json()
  const hero=data.results[0]

  home.innerHTML=`
  <section class="relative h-[65vh] md:h-[85vh]">
    <img src="https://image.tmdb.org/t/p/original${hero.backdrop_path}" class="absolute inset-0 w-full h-full object-cover" />
    <div class="absolute inset-0 hero-vignette flex flex-col justify-end p-6 md:p-16">
      <h2 class="text-3xl md:text-7xl font-black mb-4">${hero.title||hero.name}</h2>
      <button onclick="openPlayer('${hero.title?'filme':'serie'}',${hero.id})" class="bg-red-600 px-8 py-3 font-black rounded">
        <i class="fas fa-play"></i> ASSISTIR
      </button>
    </div>
  </section>

  <section class="content-grid">
    ${data.results.slice(1,19).map(i=>`
      <div onclick="openPlayer('${i.title?'filme':'serie'}',${i.id})" class="cursor-pointer">
        <img src="https://image.tmdb.org/t/p/w500${i.poster_path}" class="rounded-md hover:scale-105 transition" />
        <p class="mt-2 text-xs uppercase opacity-80 truncate">${i.title||i.name}</p>
      </div>
    `).join('')}
  </section>`
}

loadHome()
</script></body>
</html>
